---
title: "HHVM 4.87"
layout: post
author: jjergus
category: blog
---

HHVM 4.87 is released!
HHVM 4.81&ndash;4.86 remain supported, as do the 4.56 and 4.80 LTS releases.

# Highlights

- Packages for Ubuntu 20.10 are now available.
- The built-in functions `apc_add` and `apc_store` now take a 4th, optional
  argument. If this argument is provided, then the value stored in APC will be
  evicted if it's not accessed for the specified number of seconds (even if the
  TTL specified in the previous argument hasn't been reached yet).
- Improved various typechecker error messages.

# Breaking Changes

- The `.hhconfig` option `disallow_goto` was removed&mdash;it is no longer
  possible to enable `goto` statements. It had been `true` by default in all
  recent HHVM versions.
- Indexing into a string using a non-`arraykey` value (not `int` or `string`)
  now causes an `InvalidArgumentException` to be thrown at runtime. String
  indexes like `'42'` stay supported for historical reasons, but generally
  shouldn't be used. Using any non-`int` value, including `string`s, had
  already been a typechecker error.

# Future Changes

- As announced
  [last week](https://hhvm.com/blog/2020/11/30/hhvm-4.86.html#future-changes),
  dynamic function/method calls will become more restricted in the future. This
  release adds a new built-in function and INI option for instance (non-static)
  methods.
  - `\HH\dynamic_meth_caller($class_name, $method_name)`
  - `hhvm.forbid_dynamic_calls_to_meth_caller` with the same set of values
    described in the linked announcement

